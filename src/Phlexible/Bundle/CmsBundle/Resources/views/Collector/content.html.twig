{% extends '@WebProfiler/Profiler/layout.html.twig' %}

{% block toolbar %}
    {% set icon %}
        {% set status_color = '' %}
        {{ include('@PhlexibleCms/Icon/content.svg') }}
    {% endset %}

    {% set text %}
        <div class="sf-toolbar-info-piece">
            <b>Loaded elements</b>
            <span class="sf-toolbar-status sf-toolbar-status-">{{ collector.countElements }}</span>
        </div>
    {% endset %}

    {{ include('@WebProfiler/Profiler/toolbar_item.html.twig', { link: profiler_url, status: status_color }) }}
{% endblock %}

{% block menu %}
    <span class="label {% if collector.countElements %}label-status-{% else %}disabled{% endif %}">
        <span class="icon">{{ include('@PhlexibleCms/Icon/content.svg') }}</span>
        <strong>Content</strong>
    </span>
{% endblock %}

{% block panel %}

    <div class="metrics">
        <div class="metric">
            <span class="value">{{ collector.countElements }}</span>
            <span class="label">Loaded Elements</span>
        </div>
    </div>

    <h3>Elements</h3>

    <table>
        <thead>
            <tr>
                <th>EID</th>
                <th>Version</th>
                <th>Language</th>
            </tr>
        </thead>
        <tbody>
            {% for element in collector.elements %}
            <tr>
                <td>{{ element.eid }}</td>
                <td>{{ element.version }}</td>
                <td>{{ element.language }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

{% endblock %}
